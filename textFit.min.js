!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.textFit=b()}("object"==typeof global?global:this,function(){"use strict";function b(a,b){if(!e(a)||!b.reProcess&&a.getAttribute("textFitted"))return!1;b.reProcess||a.setAttribute("textFitted",1);var h,i,j,k,l,m,n;if(j=a.innerHTML,k=d(a),i=c(a),b.height&&(i=b.height),!k||!b.widthOnly&&!i)throw b.widthOnly?new Error("Set a static width on the target element "+a.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+a.outerHTML+" before using textFit!");j.indexOf("textFitted")===-1?(h=document.createElement("span"),h.className="textFitted",h.style.display="inline-block",h.innerHTML=j,a.innerHTML="",a.appendChild(h)):(h=a.querySelector("span.textFitted"),f(h,"textFitAlignVert")&&(h.className=h.className.replace("textFitAlignVert",""),h.style.height="",a.className.replace("textFitAlignVertFlex",""))),b.alignHoriz&&(a.style["text-align"]="center",h.style["text-align"]="center");var o=b.multiLine;for(b.detectMultiLine&&!o&&h.scrollHeight>=2*parseInt(window.getComputedStyle(h)["font-size"],10)&&(o=!0),o||(a.style["white-space"]="nowrap"),l=b.minFontSize+1,n=b.maxFontSize+1;l<=n;)m=parseInt((l+n)/2,10),h.style.fontSize=m+"px",h.scrollWidth<=k&&(b.widthOnly||h.scrollHeight<=i)?l=m+1:n=m-1;if(h.style.fontSize=m-1+"px",b.alignVert){g();var p=h.scrollHeight;"static"===window.getComputedStyle(a).position&&(a.style.position="relative"),f(h,"textFitAlignVert")||(h.className=h.className+" textFitAlignVert"),h.style.height=p+"px",b.alignVertWithFlexbox&&!f(a,"textFitAlignVertFlex")&&(a.className=a.className+" textFitAlignVertFlex")}}function c(a){var b=window.getComputedStyle(a,null);return a.clientHeight-parseInt(b.getPropertyValue("padding-top"),10)-parseInt(b.getPropertyValue("padding-bottom"),10)}function d(a){var b=window.getComputedStyle(a,null);return a.clientWidth-parseInt(b.getPropertyValue("padding-left"),10)-parseInt(b.getPropertyValue("padding-right"),10)}function e(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}function f(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function g(){if(!document.getElementById("textFitStyleSheet")){var a=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),b=document.createElement("style");b.type="text/css",b.id="textFitStyleSheet",b.innerHTML=a,document.body.appendChild(b)}}var a={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,height:null,alignVertWithFlexbox:!1};return function(d,e){e||(e={});var f={};for(var g in a)e.hasOwnProperty(g)?f[g]=e[g]:f[g]=a[g];"function"==typeof d.toArray&&(d=d.toArray());var h=Object.prototype.toString.call(d);"[object Array]"!==h&&"[object NodeList]"!==h&&"[object HTMLCollection]"!==h&&(d=[d]);for(var i=0;i<d.length;i++)b(d[i],f)}});
